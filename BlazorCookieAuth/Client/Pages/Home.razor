@page "/"

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

<div>
    <button onclick="@Login">Login</button>
</div>

<AuthorizeView>
    <p>Hello, @context.User?.FindFirst("id")?.Value</p>
</AuthorizeView>

Welcome to your new app.

@code {
    [Inject] HttpClient Client { get; set; }
    [Inject] CookieAuthenticationStateProvider CookieAuth { get; set; }
    public async Task Login()
    {
        var result= await Client.PostAsJsonAsync("/api/login", new { });
        CookieAuth.Login();
    }
}
